<template>
<!-- <v-dialog v-model="open" max-width="50vw"> -->
  <v-card v-if="client">
    <v-card-title>
      <span class="headline">Client Details</span>
      <v-btn color="blue darken-1" flat @click.native="edit"><v-icon>edit</v-icon>Edit</v-btn>
    </v-card-title>
    <v-card-text>
      <detailsGenerator :schema="schema" :model="client"/>
    </v-card-text>
  </v-card>
</template>

<script>
import detailsGenerator from "../shared/detailsGenerator";
import {clientDetailsSchema} from "../../constants/client";

export default {
  components:{
    "detailsGenerator": detailsGenerator
  },
  props: [
    "clientId",
  ],
  data() {
    return {
      schema: clientDetailsSchema
    }
  },
  computed: {
    client() {
      return this.$store.getters.findClient(this.clientId);
    }
  },
  methods: {
    close() {
      this.$router.push({name: "Client"});
    },
    edit() {
      this.$router.push({name: "clientUpdate", params: { clientId: this.clientId}});
    }
  }
}
</script>

<style lang="scss">

</style>
